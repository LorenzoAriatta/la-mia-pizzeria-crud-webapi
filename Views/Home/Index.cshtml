@using la_mia_pizzeria_static.Controllers.API
@{
    ViewData["Title"] = "Home Page";

    PizzasController pc = new PizzasController();
}



@*<div class="container">
    <div class="jumbo"></div>
</div>*@
<div class="d-flex flex-wrap">
    <h1 class="col-12 text-center my-5">Our Pizze from JSON list</h1>
    <div class="containerList row justify-content-center" style="column-gap:20px; row-gap:20px">

    </div>
</div>


<script type="text/javascript" language="javascript">

    //function loadList() {

        axios.get('/api/pizze').then((response) => {

            console.log(response);

            if (response.status == 200) {

                response.data.forEach(pizza => {
                    console.log('pizza', pizza);

                    document.querySelector('.containerList').innerHTML +=
                               `
                                <div class="card col-3 text-center gx-3" >
                                        <img style="height:300px" src="${pizza.image}" class="post-image text-center" />
                                        <h2 class="text-danger"> ${pizza.name}</h2>
                                        <p class="fw-bold">Price: ${pizza.price}&euro; </p>
                                        <a href = "/Pizza/Details/${pizza.id}" class="btn-dark text-decoration-none
                                        text-black rounded-pill py-2 px-4 text-white">See the details</a>
                                </div>
                                `;
                        //@pc.Get();
                });
               
            }
        }).catch(e => {
            console.log(e);
        });
    //}
</script>
